<!DOCTYPE >
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	<script type="text/javascript" src="../jquery/jquery-1.11.1.js"></script>
	<style>
		#box{
			position:absolute;
			left : 100px;
			top:100px;
			padding:5px;
			background:#f0f3f9;
			font-size:12px;
			-moz-box-shadow:2px 2px 4px #666666;
			-webkit-box-shadow:2px 2px 4px #666666;
		}
		
		#main{
			border:1px solid #a0b3d6;
			background:white;
		}
		
		#bar{
			line-height:24px;
			background:#beceeb;
			border-bottom:1px solid #a0b3d6;
			padding-left:5px;
			cursor:move;
		}
		
		#content{
			width:420px;
			height:250px;
			padding:10px 5px;
		}
	</style>
</head>	
<body>
	<div id="box">
		<div id="main">
			<div id="bar">拖拽</div>
			<div id="content">
				内容......
			</div>
		</div>
	</div>
<script type="text/javascript">
$(function(){
	var dragging = false;
	var iX, iY;
	$("#bar").mousedown(function(e){
		dragging = true;
		iX = e.clientX - $("#box").offset().left;
		iY = e.clientY - $("#box").offset().top;
		this.setCapure && this.setCapture();
	});
	
	document.onmousemove = function(e){
		if(dragging){
			var e = e || window.event;
			var oX = e.clientX - iX;
			var oY = e.clientY - iY;
			$("#box").css({"left":oX+"px","top":oY+"px"});
			return false;
		}
	}
	
	$(document).mouseup(function(e){
		dragging = false;
		$("#bar")[0].releaseCapture();
		e.cancelBubble = true;
	});
});
</script>	
</body>
</html>
